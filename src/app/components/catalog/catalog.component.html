<main *ngIf="totalItemsQuantity === 0" class="flex flex-col my-4 max-w:[82rem]">
  <app-filter-modal [showModal]="isFiltersModalVisible"
                    [category]="categoryMapping[category]"
                    (closeModal)="toggleFilters()"
                    class="h-full"></app-filter-modal>
  <div class="flex flex-row justify-between max-md:mx-auto md:ml-[8.6rem] w-fit lg:ml-[8.3rem] xl:ml-[3.5rem] min-[1361px]:ml-[18.8rem]">
    <div class="flex flex-col select-none justify-start ml-1.5 lg:ml-3.5" draggable="false">
      <h1 class="font-bold text-2xl">{{category.charAt(0).toUpperCase() + category.slice(1).replaceAll('_', ' ')}}</h1>
      <h4 style="font-family: 'Open Sans', sans-serif;" class="text-neutral-500">{{totalItemsQuantity}} items</h4>
    </div>
  </div>
  <div class="flex flex-row items-center justify-center md:justify-start md:ml-[8.6rem] lg:hidden">
    <button (click)="toggleFilters()" class="w-[48%] mt-4 mx-1 rounded-xl select-none py-[0.2rem] sm:py-0.5 md:w-[32%] bg-neutral-300 hover:bg-neutral-800
     ease-out duration-300 transition text-neutral-800 hover:text-neutral-200 text-sm sm:text-base">Filters</button>
  </div>
  <div class="flex flex-row md:ml-[8.6rem] lg:ml-[8.3rem] xl:ml-[3.5rem] min-[1361px]:ml-[18.8rem]">
    <div *ngIf="filterService.getFilterOnlyArray().length > 0" class="max-lg:hidden lg:flex lg:flex-wrap lg:w-[45rem] xl:w-[61rem] min-[1361px]:w-[65.5rem]">
      <div class="mt-2 mb-1 mx-1 h-full">
        <div class="w-fit mx-1 bg-white border border-neutral-700 rounded-2xl select-none" draggable="false">
          <div class="mx-3 my-1 flex flex-row items-center">
            <div class="flex flex-row items-center">
              <div class="pb-[0.16rem] pt-[0.14rem]">
                <span class="font-bold mr-1">Cancel all</span>
              </div>
            </div>
            <div class="ml-2 -mr-1" (click)="removeAllFilters()">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                   class="h-5 w-5 transition duration-300 ease-out hover:scale-125">
                <path d="M19 5L5 19M5 5L9.5 9.5M12 12L19 19" stroke-width="0.6" stroke="#000000"></path>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <app-filter-tag *ngFor="let filter of this.filterService.getFilterOnlyArray()" [initialFilter]="filter"
                      [category]="categoryMapping[category]"
                      class="mt-2 mb-1 mx-1"></app-filter-tag>
    </div>
  </div>
</main>
<main *ngIf="totalItemsQuantity > 0" class="flex flex-col my-4 w-fit lg:w-[62rem] xl:w-[78rem] min-[1361px]:w-[82rem] mx-auto max-w-[82rem]">
  <app-filter-modal [showModal]="isFiltersModalVisible"
                    [category]="categoryMapping[category]"
                    (closeModal)="toggleFilters()"
  class="h-full"></app-filter-modal>
  <div class="flex flex-row justify-between">
    <div class="flex flex-col select-none justify-start ml-1.5 lg:ml-3.5" draggable="false">
      <h1 class="font-bold text-2xl">{{category.charAt(0).toUpperCase() + category.slice(1).replaceAll('_', ' ')}}</h1>
      <h4 style="font-family: 'Open Sans', sans-serif;" class="text-neutral-500">{{totalItemsQuantity}} items</h4>
    </div>
    <div *ngIf="totalItemsQuantity > 0" class="max-lg:hidden max-xl:mx-1 mx-3.5 items-end w-60">
      <h2 class="text-sm ml-1">Sort by</h2>
      <select class="mt-1 p-1 pr-2 border border-gray-300 text-gray-900 text-sm rounded-lg w-full focus:outline-0 accent-neutral-800"
        (change)="toggleSort($event)">
        <option value="rating-desc">Rating</option>
        <option value="price-asc">Price (Ascending)</option>
        <option value="price-desc">Price (Descending)</option>
        <option value="name-asc">Title (Ascending)</option>
        <option value="name-desc">Title (Descending)</option>
      </select>
    </div>
  </div>
  <div class="flex flex-row items-center justify-between lg:hidden">
    <button (click)="toggleFilters()" class="w-[48%] mt-4 mx-1 rounded-xl select-none py-[0.2rem] sm:py-0.5 md:w-[32%] bg-neutral-300 hover:bg-neutral-800
     ease-out duration-300 transition text-neutral-800 hover:text-neutral-200 text-sm sm:text-base">Filters</button>
    <div class="lg:hidden max-xl:mx-1 mx-3.5 items-end w-[48%] md:w-[32%]">
      <h2 class="text-sm ml-1">Sort by</h2>
      <select class="mt-1 p-1 pr-2 border border-gray-300 text-gray-900 text-sm rounded-lg w-full focus:outline-0 accent-neutral-800"
              (change)="toggleSort($event)">
        <option class="text-red-600" value="rating-desc">Rating</option>
        <option value="price-asc">Price (Ascending)</option>
        <option value="price-desc">Price (Descending)</option>
        <option value="name-asc">Title (Ascending)</option>
        <option value="name-desc">Title (Descending)</option>
      </select>
    </div>
  </div>
  <div class="flex flex-row">
    <app-filters *ngIf="totalItemsQuantity > 0" [category]="categoryMapping[category]" class="max-lg:hidden mx-auto w-[15.75rem]" style="font-family: 'Open Sans', sans-serif;"></app-filters>
    <div>
      <div *ngIf="filterService.getFilterOnlyArray().length > 0" class="max-lg:hidden lg:flex lg:flex-wrap lg:w-[45rem] xl:w-[61rem] min-[1361px]:w-[65.5rem]">
        <div class="mt-2 mb-1 mx-1 h-full">
          <div class="w-fit mx-1 bg-white border border-neutral-700 rounded-2xl select-none" draggable="false">
            <div class="mx-3 my-1 flex flex-row items-center">
              <div class="flex flex-row items-center">
                <div class="pb-[0.16rem] pt-[0.14rem]">
                  <span class="font-bold mr-1">Cancel all</span>
                </div>
              </div>
              <div class="ml-2 -mr-1" (click)="removeAllFilters()">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                     class="h-5 w-5 transition duration-300 ease-out hover:scale-125">
                  <path d="M19 5L5 19M5 5L9.5 9.5M12 12L19 19" stroke-width="0.6" stroke="#000000"></path>
                </svg>
              </div>
            </div>
          </div>
        </div>
        <app-filter-tag *ngFor="let filter of this.filterService.getFilterOnlyArray()" [initialFilter]="filter"
                        [category]="categoryMapping[category]"
                        class="mt-2 mb-1 mx-1"></app-filter-tag>
      </div>
      <div *ngIf="totalItemsQuantity > 0" style="font-family: 'Open Sans', sans-serif;"
           class="grid place-items-center grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 justify-start min-[1361px]:w-[65.5rem]">
        <app-product-card *ngFor="let product of items" [product]="product" [url]="url"></app-product-card>
      </div>
    </div>
  </div>
</main>
